# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **Next.js 16 (App Router)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ú—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤, –±–ª–∏–∑–∫–∏—Ö –∫ **FSD (Feature-Sliced Design)**, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üèó –ü—Ä–∏–Ω—Ü–∏–ø—ã —Å–ª–æ–µ–≤ (Boundaries)

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∂–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ª–∏–Ω—Ç–µ—Ä–∞ (`eslint-plugin-boundaries`) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–ø—É—Ç—ã–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### 1. UI Layer (`app/components/primitives`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–µ "–≥–ª—É–ø—ã–µ" (presentational) –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`Button`, `Slider`, `Canvas`).
- **–ü—Ä–∞–≤–∏–ª–∞:** –ù–∏–∫–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Å–ª–æ–µ–≤ `domain`, `tools`, `entities`.

### 2. Entity Layer (`app/components/entities`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—è–º (`TextureLimitIndicator`, `RangeVideoPlayer`).
- **–ü—Ä–∞–≤–∏–ª–∞:** –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `primitives` –∏ `lib/modules`. –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (`tools`).

### 3. Feature / Tool Layer (`app/components/tools`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –°–±–æ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ª–æ–≥–∏–∫–∏ –≤ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
- **–ü—Ä–∞–≤–∏–ª–∞:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

### 4. Domain Logic & Core (`lib/`)

–≠—Ç–æ—Ç —Å–ª–æ–π —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–∞ —É—Ä–æ–≤–Ω—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:

#### A. Core (`lib/core`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –±–ª–æ–∫–∏, –∞–≥–Ω–æ—Å—Ç–∏—á–Ω—ã–µ –∫ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ (Hooks, Utils).
- **–ö—Ä–∏—Ç–µ—Ä–∏–π:** –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–∏–º –≤ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

> **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:**
> –°–ª–µ–¥—É–µ–º –ø—Ä–∞–≤–∏–ª—É **"–ù–µ –∏–∑–æ–±—Ä–µ—Ç–∞–π –≤–µ–ª–æ—Å–∏–ø–µ–¥" (Don't Reinvent the Wheel)**.
>
> –ú—ã –∏–∑–±–µ–≥–∞–µ–º –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á, –Ω–æ **–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `remeda`) —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (In-House), –µ—Å–ª–∏:
>
> 1. –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ (TypeScript) –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—Å–æ–∫–∞.
> 2. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Tree Shaking –∏ –Ω–µ —Ä–∞–∑–¥—É–≤–∞–µ—Ç –±–∞–Ω–¥–ª.
> 3. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —Å–Ω–∏–∂–∞—é—â–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±–∞–≥–æ–≤ –∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É.

#### B. Modules (`lib/modules`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ –¥–æ–º–µ–Ω–∞–º (`graphics`, `file-system`, `tool-registry`).
- **–°–æ—Å—Ç–∞–≤:** –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã GPU, –≤–æ—Ä–∫–µ—Ä—ã, –ø–∞—Ä—Å–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤.

---

## üõ° –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ TypeScript

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é **Maximum Strictness**.

- **Paranoia Mode:** –í–∫–ª—é—á–µ–Ω—ã —Ñ–ª–∞–≥–∏ `noUncheckedIndexedAccess`, `noImplicitOverride` –∏ –¥—Ä.
- **Next.js Conflict:** –ü–∞–ø–∫–∞ `.next/dev` –∏—Å–∫–ª—é—á–µ–Ω–∞ –∏–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏.

---

## üìö –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ú—ã –ø—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–∏–Ω—Ü–∏–ø **DRY (Don't Repeat Yourself)** –Ω–µ —Ç–æ–ª—å–∫–æ –∫ –∫–æ–¥—É, –Ω–æ –∏ –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

1.  **–õ–∞–∫–æ–Ω–∏—á–Ω–æ—Å—Ç—å:** –ú–∞–∫—Å–∏–º—É–º —Å–º—ã—Å–ª–∞, –º–∏–Ω–∏–º—É–º —Ç–µ–∫—Å—Ç–∞. –ò–∑–±–µ–≥–∞–µ–º "–≤–æ–¥—ã" –∏ –æ—á–µ–≤–∏–¥–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π.
2.  **Single Source of Truth:** –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –ù–µ –¥—É–±–ª–∏—Ä—É–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤ `README.md`, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –∑–¥–µ—Å—å.
3.  **Code as Documentation:** –ù–µ –æ–ø–∏—Å—ã–≤–∞–µ–º —Å–ª–æ–≤–∞–º–∏ —Ç–æ, —á—Ç–æ —è—Å–Ω–æ –∏–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä —Ç–∏–ø–æ–≤ –∏ –Ω–∞–∑–≤–∞–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ–±—ä—è—Å–Ω—è—Ç—å "–ø–æ—á–µ–º—É", –∞ –Ω–µ "—á—Ç–æ".

---

## üß© –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

1.  **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ `lib/modules/tool-registry/config.ts`.
2.  **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ `app/components/tools/[tool-id]/`.
3.  **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ `dynamic import` –≤ `lib/modules/tool-registry/loader.tsx`.

---

## ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ú—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ **"Colocation & Lightweight Unit Tests"**.

- **–ì–¥–µ:** –¢–µ—Å—Ç—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è —Ä—è–¥–æ–º —Å —Ñ–∞–π–ª–æ–º (`logic.test.ts`).
- **–ß—Ç–æ:** –í –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ Core –∏ Modules (—á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞). UI —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ.
- **Pipeline:** `pre-commit hook` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (`vitest related`).

---

## ü§ñ Developer Experience (DX)

- **AI Context:** –°–∫—Ä–∏–ø—Ç `scripts/generate-context.ts` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `project.txt` –≤ –ø–∞–ø–∫–µ `.context/` –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å LLM. –†–∞–±–æ—Ç–∞–µ—Ç –≤ watch-—Ä–µ–∂–∏–º–µ –ø—Ä–∏ `npm run dev`.

---

## üñå –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ –°—Ä–µ–¥–∞

- **Tailwind CSS v4:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∏–ª–µ–π. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (`dark:`).
- **Browserslist:** `baseline newly available`. –ú—ã –æ—Ä–∏–µ–Ω—Ç–∏—Ä—É–µ–º—Å—è –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ API –±–µ–∑ –ø–æ–ª–∏—Ñ–∏–ª–æ–≤.
