# üìâ Technical Debt & Roadmap

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –∏ –ø–ª–∞–Ω—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞.

## üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (Architecture)

### 1. –ü–æ–ª–∏—Ç–∏–∫–∞ "Zero HTML Tags" –≤ —Å–ª–æ–µ Tools

–°–ª–æ–π `view/tools/` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ `/ui`. –ù–∞–ª–∏—á–∏–µ –±–∞–∑–æ–≤—ã—Ö —Ç–µ–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `<div>`, `<span>`, `section`) –≤ —ç—Ç–æ–º —Å–ª–æ–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è "—Ä—É–¥–æ–π", –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å.

- **–ü–ª–∞–Ω:** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ –≤—Å–µ—Ö `div` –Ω–∞ `Box`, `Stack`, `Group` –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- **Linter:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ `react/forbid-dom-elements` –¥–ª—è –ø–∞–ø–∫–∏ `view/tools/`.

### 2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OverlayLabel

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `OverlayLabel` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏. –û–Ω–∞ –ª–∏–±–æ –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ API –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Canvas`), –ª–∏–±–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤ `PositionedBadge`.

- **–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ–π—á–∞—Å –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ "–∑–∞–ø–ª–∞—Ç–∫–∞" –ø–æ–≤–µ—Ä—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –≤–µ—Ä—Å—Ç–∫—É.
- **–¶–µ–ª—å:** –ì–ª—É–±–æ–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º—É —Å–ª–æ—ë–≤ –∏–ª–∏ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞.

### 3. –í—ã–¥–µ–ª–µ–Ω–∏–µ –î–æ–º–µ–Ω–Ω—ã—Ö –ü—Ä–∏–º–∏—Ç–∏–≤–æ–≤

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å Canvas –∏ Video –≤–æ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö.

- –í—ã–¥–µ–ª–∏—Ç—å `lib/modules/viewport` (–∑—É–º, –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã).
- –í—ã–¥–µ–ª–∏—Ç—å `lib/modules/playback` (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –≤–∏–¥–µ–æ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è).

## üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (Reliability & DX)

### 1. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ State Machines

–°–ª–æ–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `VideoFrameExtractor`) —É–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ (`isProcessing`, `currentStep`, `error`).

- **–ü–ª–∞–Ω:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ö—É–∫–æ–≤ (`use-frame-extractor.ts`) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Finite State Machine (FSM) –∏–ª–∏ `useReducer`.
- **–¶–µ–ª—å:** –°–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (`idle` ‚Üí `extracting` ‚Üí `generating`) —è–≤–Ω—ã–º–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏.

### 2. Web Worker Optimization

- **Status (20-12-2025):** –õ–æ–≥–∏–∫–∞ `gifshot` –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ `lib/modules/video/gif-encoder.ts`, –Ω–æ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ.
- **–ü–ª–∞–Ω:** –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `gif-encoder.ts` –≤–Ω—É—Ç—Ä—å Web Worker.

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–∏–∫–ª–æ–≤ –≤ VerticalImageAligner

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤ –∑–∞—Ü–∏–∫–ª–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (loop mode) –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–∞–¥—Ä–æ–≤.

- **–ü—Ä–æ–±–ª–µ–º–∞:** –í–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≤ –ø–∞–º—è—Ç–∏ –∫–∞–¥—Ä–æ–≤, —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞—Ç–∏—Ç —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
- **–ü–ª–∞–Ω:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (reuse) –∫–∞–¥—Ä–æ–≤ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–∂–∏–º–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è.

## üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

### 1. Strict TS vs Next.js Conflict

–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ `.next/types` –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏ (`noUncheckedIndexedAccess`). –†–µ—à–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–æ –¥–æ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –≤ Next.js App Router.

### 2. Godot Parser Fragility

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `lib/modules/file-system/godot-scene.ts` –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ç—Ä–æ–∫–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥.

- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞–π–∑–µ—Ä–∞.

### 3. Canvas Logic Separation

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Canvas.tsx` –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, —Å–æ–±—ã—Ç–∏—è).

- **–ü–ª–∞–Ω:** –í—ã–¥–µ–ª–∏—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –∑—É–º–∞ –∏ –ø–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —á–∏—Å—Ç—ã–π —Ö—É–∫ `useViewportLogic` –∏–ª–∏ –∫–ª–∞—Å—Å, —á—Ç–æ–±—ã –æ–±–ª–µ–≥—á–∏—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ Touch-–∂–µ—Å—Ç–æ–≤ –≤ –±—É–¥—É—â–µ–º.
