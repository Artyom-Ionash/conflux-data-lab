# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **Next.js 16 (App Router)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ú—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤, –±–ª–∏–∑–∫–∏—Ö –∫ **FSD (Feature-Sliced Design)**, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.

## üèó –ü—Ä–∏–Ω—Ü–∏–ø—ã —Å–ª–æ–µ–≤ (Boundaries)

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∂–µ—Å—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ª–∏–Ω—Ç–µ—Ä–∞ (`eslint-plugin-boundaries`), —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∑–∞–ø—É—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### 1. UI Layer (`app/components/primitives`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–µ "–≥–ª—É–ø—ã–µ" (presentational) –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
- **–ü—Ä–∏–º–µ—Ä—ã:** `Button`, `Slider`, `Card`, `Modal`, `Canvas`.
- **–ü—Ä–∞–≤–∏–ª–∞:**
  - –ù–∏–∫–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.
  - **–ó–∞–ø—Ä–µ—â–µ–Ω–æ:** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ-–ª–∏–±–æ –∏–∑ —Å–ª–æ–µ–≤ `domain`, `tools`, `entities` –∏–ª–∏ `app`.

### 2. Entity Layer (`app/components/entities`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—è–º.
- **–ü—Ä–∏–º–µ—Ä—ã:** `TextureLimitIndicator` (–∑–Ω–∞–µ—Ç –ø—Ä–æ –ª–∏–º–∏—Ç—ã GPU), `RangeVideoPlayer` (–∑–Ω–∞–µ—Ç –ø—Ä–æ –≤–∏–¥–µ–æ).
- **–ü—Ä–∞–≤–∏–ª–∞:**
  - –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `primitives` –∏ `lib/modules`.
  - **–ó–∞–ø—Ä–µ—â–µ–Ω–æ:** –ó–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (`tools`).

### 3. Feature / Tool Layer (`app/components/tools`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –≠—Ç–æ "—Å–µ—Ä–¥—Ü–µ" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `primitives`, `entities` –∏ –ª–æ–≥–∏–∫—É –∏–∑ `lib` –≤ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
- **–ü—Ä–∏–º–µ—Ä—ã:** `VideoFrameExtractor`, `JsonToCsvConverter`.
- **–ü—Ä–∞–≤–∏–ª–∞:**
  - –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
  - –û–¥–∏–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –¥—Ä—É–≥–æ–≥–æ.

### 4. Domain Logic & Core (`lib/`)

–≠—Ç–æ—Ç —Å–ª–æ–π —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –¥–≤–∞ —É—Ä–æ–≤–Ω—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:

#### A. Core (`lib/core`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã.
- **–°–æ—Å—Ç–∞–≤:**
  - `hooks/` ‚Äî –û–±—â–∏–µ React-—Ö—É–∫–∏ (`useObjectUrl`, `useDebounceEffect`). –ú—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ö—É–∫–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –≤–º–µ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç—è–∂–µ–ª—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ —Ç–∏–ø–∞ `ahooks` –∏–ª–∏ `react-use`.

#### B. Modules (`lib/modules`)

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ –¥–æ–º–µ–Ω–∞–º.
- **–°–æ—Å—Ç–∞–≤:**
  - `graphics/` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã GPU, –≤–µ–±-–≤–æ—Ä–∫–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å–ø—Ä–∞–π—Ç–æ–≤.
  - `file-system/` ‚Äî –ø–∞—Ä—Å–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤ (Godot), —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤—ã–º –¥–µ—Ä–µ–≤–æ–º.
  - `tool-registry/` ‚Äî –º–µ—Ç–∞-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ç–∏–ø—ã, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫.

---

## üß© –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

–ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 3 —à–∞–≥–æ–≤.

### –®–∞–≥ 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª `lib/modules/tool-registry/config.ts`:

```typescript
{
  id: 'my-new-tool',
  name: 'My New Tool',
  category: 'analysis',
  tags: ['new', 'beta'],
  description: '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.'
}
```

### –®–∞–≥ 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `app/components/tools/my-new-tool/` –∏ —Ñ–∞–π–ª `MyNewTool.tsx`:

```tsx
'use client';

import { ToolLayout } from '../ToolLayout';

export function MyNewTool() {
  const sidebar = <div>{/* –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */}</div>;

  return (
    <ToolLayout title="–ú–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç" sidebar={sidebar}>
      {/* –û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –æ–±–ª–∞—Å—Ç—å (Canvas, Editor –∏ —Ç.–¥.) */}
      <div className="p-4">Hello World</div>
    </ToolLayout>
  );
}
```

### –®–∞–≥ 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Dynamic Import)

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Ä–µ–µ—Å—Ç—Ä `lib/modules/tool-registry/loader.tsx`. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `next/dynamic` –¥–ª—è code-splitting, —á—Ç–æ–±—ã –∫–æ–¥ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª—Å—è, –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –æ—Ç–∫—Ä–æ–µ—Ç –µ–≥–æ.

```typescript
const MyNewTool = dynamic(
  () => import('@/app/components/tools/my-new-tool/MyNewTool').then((mod) => mod.MyNewTool),
  { loading: ToolLoading }
);

const toolComponents: Record<string, React.ComponentType> = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
  'my-new-tool': MyNewTool,
};
```

**–ì–æ—Ç–æ–≤–æ!** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `/tools/analysis/my-new-tool`.

---

## üñå –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Tailwind CSS v4**.

- **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏:** `app/globals.css`.
- **–õ–∏–Ω—Ç–∏–Ω–≥:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `stylelint` –¥–ª—è CSS —Ñ–∞–π–ª–æ–≤ –∏ `eslint-plugin-tailwindcss` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∫–ª–∞—Å—Å–æ–≤ –≤ JSX.
- **–¢–µ–º—ã:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–µ–º–Ω–∞—è –∏ —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ (—Å–∏—Å—Ç–µ–º–Ω–∞—è –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º–∞—è). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å `dark:` –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã.

## üåê –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ **Web Baseline**.

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è

–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ (—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –¥–∏–∑–∞–π–Ω–µ—Ä—ã), –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã.

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Browserslist

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–ø—Ä–æ—Å `baseline newly available` (–¥–æ—Å—Ç—É–ø–µ–Ω —Å Browserslist 4.26+).
–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ (ES2024+, CSS Nesting, :has(), –∏ —Ç.–¥.), –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–≤–∏–∂–∫–æ–≤ (Blink, Gecko, WebKit).

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

1.  **–û—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Ç—è–∂–µ–ª—ã—Ö –ø–æ–ª–∏—Ñ–∏–ª–æ–≤** –¥–ª—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (`toSorted`, `with`, `Array.fromAsync`).
2.  **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS** –±–µ–∑ –ª–∏—à–Ω–∏—Ö –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤.
3.  **–ü–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∑–∞ —Å—á–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã—Ö API.

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (Legacy) –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞.
